{"mappings":"YAwBA,IAAMA,EAAU,CAACC,QAAS,CACtB,YAAc,0EAaX,SAASC,EAAgBC,GAC5B,OAAOC,MAAM,wDAAgEC,OAARF,GAAWH,GAC/EM,MAAK,SAACC,GACH,IAAKA,EAASC,GACd,MAAM,IAAIC,MAAMF,EAASG,YAEjC,OAAOH,EAASI,M,IC1ChB,IAAMC,EAASC,SAASC,cAAe,iBACjCC,EAASF,SAASC,cAAe,WACjCE,EAAQH,SAASC,cAAe,UAChCG,EAAMJ,SAASC,cAAe,aDyB7BV,MAAO,sCAAsCJ,GAC/CM,MAAK,SAACC,GACH,IAAKA,EAASC,GACd,MAAM,IAAIC,MAAMF,EAASG,YAEjC,OAAOH,EAASI,M,ICzBFL,MAAK,SAAAY,GACfC,QAAQC,IAAK,eACbR,EAAOS,UAAYH,EAAKI,KAAI,SAAAC,G,MAAW,kBAAiClB,OAAfkB,EAAQC,GAAG,MAAiBnB,OAAbkB,EAAQE,KAAK,Y,IAAYC,KAAM,G,IAE1GC,OAAM,W,OAAMX,EAAMY,gBAAiB,S,IACnCC,SAAQ,W,OAAMd,EAAOe,aAAc,UAAS,E,IAG7ClB,EAAOmB,iBAAkB,UAEzB,SAAuBC,GAEnB,IAAI7B,EAAU6B,EAAEC,OAAOC,MAEvBhC,EAAgBC,GACXG,MAAK,SAAAY,GACFC,QAAQC,IAAK,mBACbD,QAAQC,IAAIF,GACZD,EAAII,UAAYH,EAAKI,KAAI,SAAAC,G,MACrB,kBAA8BlB,OAAZkB,EAAQY,IAAI,qD,IAAqDT,KAAM,IAC7FR,EAAKI,KAAI,SAAAc,G,OAAMA,EAAGC,OAAOC,SAAQ,SAAAC,GAC7B,IACMC,EADQ,CAACD,GACOE,MAAK,SAAAC,G,OAAUA,EAAOlB,KAAOrB,C,IAE7CwC,EAAS,OACVtC,OADiBmC,EAAQf,KAAK,8BAG9BpB,OAFAmC,EAAQI,YAAY,mEAEAvC,OAApBmC,EAAQK,YAAY,QACzB5B,EAAI6B,mBAAoB,YAAYH,E,UAG3ChB,OAAM,WACPX,EAAM+B,gBAAiB,S,IAEtBlB,SAAQ,WACTd,EAAOe,aAAc,UAAQ,E","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["import axios from \"axios\";\n// axios.defaults.headers.common[`x-api-key`] = `live_78i5BMDbEVtvm4bF6CtHppjOH5FDijMJq91f3amTjvcMULPghgj1K1AAmwWlV7xq`;\n// axios.defaults.baseURL = 'https://api.thecatapi.com/v1/';\n\n// export function fetchBreeds() {\n//     axios.get(`/breeds`).then(response => {\n//         if (response.status !== 200) {\n//             throw new Error(response.status)\n//         }\n//         return response.data;\n//     })\n// }\n\n// export function fetchCatByBreed(breedId) {\n//     axios.get(`/images/search?breed_ids={breed.id}`)\n//     .then((response) => {\n//         if (!response.ok) {\n//         throw new Error(response.statusText)\n//     }\n// return response.data;\n// })\n// }\n// -----------\n\nconst options = {headers: {\n    'x-api-key': `live_78i5BMDbEVtvm4bF6CtHppjOH5FDijMJq91f3amTjvcMULPghgj1K1AAmwWlV7xq`\n}\n}\n\nexport function fetchBreeds() {\nreturn fetch(`https://api.thecatapi.com/v1/breeds`, options)\n    .then((response) => {\n        if (!response.ok) {\n        throw new Error(response.statusText)\n    }\nreturn response.json();\n})}\n\nexport function fetchCatByBreed(breedId) {\n    return fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`, options)\n    .then((response) => {\n        if (!response.ok) {\n        throw new Error(response.statusText)\n    }\nreturn response.json();\n})\n}\n\n\n\n\n","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\n\nconst select = document.querySelector(`.breed-select`);\nconst loader = document.querySelector(`.loader`);\nconst error = document.querySelector(`.error`);\nconst div = document.querySelector(`.cat-info`);\n\n\n\n\nfetchBreeds().then(data => {\n    console.log(`fetchBreeds`)\n    select.innerHTML = data.map(element => `<option value=\"${element.id}\">${element.name}</option>`).join(``);\n})\n.catch(() => error.remoteAttribute(`hidden`))\n.finally(() => loader.setAttribute(`hidden`, true))\n\n\nselect.addEventListener(`change`, onChangeBreed);\n\nfunction onChangeBreed(e) {\n    // loader.removeAttribute(`hidden`);\n    let breedId = e.target.value;\n    // console.log(breedId);\n    fetchCatByBreed(breedId)\n        .then(data => {\n            console.log(`fetchCatByBreed`)\n            console.log(data);\n            div.innerHTML = data.map(element =>\n                `<div><img src=\"${element.url}\" alt=\"photo cat\" width=\"500\" height=\"400\"/></div>`).join(``)\n            data.map(el => el.breeds.forEach(cat => {\n                const array = [cat];\n                const findCat = array.find(option => option.id === breedId);\n                // console.log(findCat.description);\n                const makrup = `<h2>${findCat.name}</h2>\n                <p>${findCat.description}</p>\n                <h3>Temperament</h3>\n                <p>${findCat.temperament}</p>`\n                div.insertAdjacentHTML(`beforeend`, makrup)\n            }))\n        })\n        .catch(() => {\n        error.removeAttribute(`hidden`)\n        })\n        .finally(() => {\n        loader.setAttribute(`hidden`,true)\n    })\n}\n\n\n\n\n"],"names":["$ae0c329fb0fb36dc$var$options","headers","$ae0c329fb0fb36dc$export$57b7d3a597416aa2","breedId","fetch","concat","then","response","ok","Error","statusText","json","$b8f9b7833fa37166$var$select","document","querySelector","$b8f9b7833fa37166$var$loader","$b8f9b7833fa37166$var$error","$b8f9b7833fa37166$var$div","data","console","log","innerHTML","map","element","id","name","join","catch","remoteAttribute","finally","setAttribute","addEventListener","e","target","value","url","el","breeds","forEach","cat","findCat","find","option","makrup","description","temperament","insertAdjacentHTML","removeAttribute"],"version":3,"file":"index.5f48a476.js.map"}